<div class="container my-5 compras-container vitrine-page">

  <div class="text-center mb-5">
    <h3 class="fw-bold mb-1">Vitrine</h3>
    <p class="text-muted mb-0">Escolha seus produtos disponíveis</p>
  </div>


  <!-- Grid de produtos -->
  <div class="row g-4">

    <div class="col-12 col-sm-6 col-lg-4"
         *ngFor="let p of produtos">

      <div class="card compra-card produto-card h-100">

        <!-- Header do card -->
        <div class="card-header header-ativa text-center">
          <span class="fw-semibold">{{ p.nome }}</span>
        </div>

        <!-- Body -->
        <div class="card-body d-flex flex-column">

          <div class="produto-info mb-3">
            <div class="d-flex justify-content-between">
              <span class="text-muted">Valor</span>
              <span class="fw-semibold">
                {{ p.valor | currency:'BRL':'symbol':'1.2-2' }}
              </span>
            </div>

            <div class="d-flex justify-content-between mt-2">
              <span class="text-muted">Estoque</span>
              <span class="fw-semibold"
                    [ngClass]="{
                      'text-success': p.quantidadeEstoque > 5,
                      'text-warning': p.quantidadeEstoque > 0 && p.quantidadeEstoque <= 5,
                      'text-danger': p.quantidadeEstoque === 0
                    }">
                {{ p.quantidadeEstoque }}
              </span>
            </div>
          </div>

          <!-- Botão -->
          <button class="btn w-100 mt-auto"
                  [ngClass]="p.quantidadeEstoque > 0 ? 'btn-primary' : 'btn-secondary'"
                  [disabled]="p.quantidadeEstoque === 0"
                  (click)="adicionarAoCarrinho(p)">
            {{ p.quantidadeEstoque > 0 ? 'Adicionar ao Carrinho' : 'Sem estoque' }}
          </button>

        </div>
      </div>
    </div>

    <!-- Empty state -->
    <div *ngIf="!produtos || produtos.length === 0"
         class="col-12 text-center text-muted py-5">
      <i class="bi bi-inbox fs-2 mb-2 d-block"></i>
      Nenhum produto disponível no momento.
    </div>

  </div>
</div>

<app-carrinho></app-carrinho>
