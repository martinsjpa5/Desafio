<div class="container mt-4">
  <h3 class="mb-4">Minhas Compras</h3>

  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <div *ngIf="compras.length === 0" class="alert alert-info">
    Você ainda não realizou nenhuma compra.
  </div>

  <div *ngFor="let compra of compras" class="card mb-4 shadow-sm border-0">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center"
      [ngClass]="compra.cancelada ? 'bg-danger text-white' : 'bg-primary text-white'">
      <span>Compra {{ compra.id }}</span>
      <span><strong>Total: R$ {{ compra.valorTotal | number:'1.2-2' }}</strong></span>
    </div>

    <ul class="list-group list-group-flush">
      <li *ngFor="let item of compra.itens" class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ item.nome }}</strong> x {{ item.quantidade }}
        </div>
        <div>
          R$ {{ item.valor | number:'1.2-2' }}
        </div>
      </li>
    </ul>
    <div class="card-footer text-end text-danger fw-bold" *ngIf="compra.cancelada">
      CANCELADA
    </div>
  </div>
</div>